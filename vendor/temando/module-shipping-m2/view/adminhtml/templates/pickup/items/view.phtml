<?php
/**
 * Refer to LICENSE.txt distributed with the Temando Shipping module for notice of license
 */
?>

<?php
/** @var \Magento\Backend\Block\Template $block */
/** @var \Temando\Shipping\ViewModel\Pickup\PickupItems $viewModel */
$viewModel = $block->getData('pickupViewModel');
?>
<section class="admin__page-section">
    <div class="admin__page-section-title">
        <span class="title"><?= $block->escapeHtml(__('Items')) ?></span>
    </div>
    <div class="admin__table-wrapper">
        <table class="data-table admin__table-primary order-shipment-table">
            <thead>
                <tr class="headings">
                    <th class="col-product"><span><?= $block->escapeHtml(__('Description')) ?></span></th>
                    <th class="col-sku"><span><?= $block->escapeHtml(__('Sku')) ?></span></th>
                    <th class="col-qty"><span><?= $block->escapeHtml(__($viewModel->getQtyLabel())) ?></span></th>
                </tr>
            </thead>
            <?php /** @var \Magento\Sales\Model\Order\Item[] $items */ ?>
            <?php $items = $viewModel->getAllOrderItems(); ?>
            <?php foreach ($items as $index => $item) : ?>
                <tbody class="<?= $block->escapeHtml(($index % 2) ? 'even' : 'odd') ?>">
                    <tr>
                        <td class="col-product"><div><?= $block->escapeHtml($item->getName()) ?></div></td>
                        <td class="col-sku"><div><?= $block->escapeHtml($item->getSku()) ?></div></td>
                        <td class="col-qty">
                            <div><?= $block->escapeHtml($viewModel->getItemQty($item->getSku())) ?></div>
                        </td>
                    </tr>
                </tbody>
            <?php endforeach; ?>
        </table>
    </div>
</section>
