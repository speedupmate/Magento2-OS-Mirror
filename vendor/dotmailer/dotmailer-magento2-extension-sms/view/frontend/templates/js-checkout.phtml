<?php
/**
 * @var $block \Magento\Framework\View\Element\Template
 * @var $view \Dotdigitalgroup\Sms\ViewModel\TelephoneInputConfig
 */
// @codingStandardsIgnoreFile
$view = $block->getData('config');
?>
<script type="application/javascript">
    require([
        'jquery'
    ], function ($) {
        ddgTelephoneRenderComplete = function(node) {
            var telephoneInput = $(node)[0];
            var iti = window.intlTelInput(telephoneInput, <?= $view->getConfig(); ?>);

            telephoneInput.addEventListener('blur', function() {
                telephoneInput.value = iti.getNumber();
            });
        }
    });
</script>
