<!--
/**
 * MageSpecialist
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to info@magespecialist.it so we can send you a copy immediately.
 *
 * @category   MSP
 * @package    MSP_TwoFactorAuth
 * @copyright  Copyright (c) 2017 Skeeller srl (http://www.magespecialist.it)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */
-->
<div>
    <div visible='currentStep() === "register"'>
        <form method="post">
            <fieldset class="admin__fieldset">
                <legend class="admin__legend">
                    <span data-bind='i18n: "2FA - Google Auth"'></span>
                </legend><br/>

                <img class="msp-tfa-google-qr" attr='src: getQrCodeUrl()' />

                <p data-bind='i18n: "Scan this code with your authenticator app and insert your code to confirm."'></p>

                <div class="admin__field _required field-tfa_code">
                    <label for="tfa_code" class="admin__field-label">
                        <span data-bind='i18n: "Authenticator code"'></span>
                    </label>
                    <div class="admin__field-control">
                        <input
                                data-bind="value: verifyCode, enable: !waitText()"
                                id="tfa_code"
                                class="admin__control-text"
                                type="password"
                                autofocus
                                placeholder="Your code'"/>
                    </div>
                </div>

                <div class="form-actions">
                    <div class="actions">
                        <button
                                enable="!waitText()"
                                click="doVerify"
                                class="action-login action-primary">
                            <span data-bind='i18n: waitText() ? waitText() : "Confirm"'></span>
                        </button>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div visible='currentStep() === "login"' class="msp-tfa-waitbox">
        <div data-role="spinner">
            <div class="spinner">
                <span/><span/><span/><span/><span/><span/><span/><span/>
            </div>
        </div>
        <div data-bind='i18n: "Redirecting to Magento Admin Panel..."'></div>
    </div>
</div>